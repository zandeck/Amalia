#[macro_use]
extern crate glium;
#[macro_use]
extern crate nom;

mod md5;
mod maths;

use md5::md5anim_parser;
use nom::IResult::Done;

fn main() {
    
    let string = b"MD5Version 10
    commandline \"\"

    numFrames 141
    numJoints 33
    frameRate 24
    numAnimatedComponents 198

    hierarchy {
        \"origin\"	-1 63 0	//
        \"sheath\"	0 63 6	// origin
        \"sword\"	1 63 12	// sheath
        }

    bounds {
	( -1.634066 -1.634066 -1.634066 ) ( -1.634066 6.444685 5.410537 )
	( -1.634381 -1.634381 -1.634381 ) ( -1.634381 6.444589 5.410597 )
	( -1.634190 -1.634190 -1.634190 ) ( -1.634190 6.444603 5.410734 )
    }

    baseframe {
	( -0.000000 0.001643 -0.000604 ) ( 0.707107 0.000242 0.707107 )
	( 3.122890 0.625194 0.923663 ) ( -0.022398 0.133633 0.852234 )
	( 0.000386 -1.102681 0.010090 ) ( 0.001203 -0.000819 0.001678 )
    }

    frame 0 {
	000000.001643 -0.000604 -0.707107 -0.000242 -0.707107
	3.122890 0.625194 0.923663 0.022398 -0.133633 -0.852234
	0.000386 -1.102681 0.010090 -0.001203 0.000819 -0.001678
	2.600285 -0.203020 0.001408 0.750740
    }
    
    frame 1 {
	000000.001643 -0.000604 -0.707107 -0.000242 -0.707107
	3.122890 0.625194 0.923663 0.022398 -0.133633 -0.852234
	0.000386 -1.102681 0.010090 -0.001203 0.000819 -0.001678
	2.600285 -0.203020 0.001408 0.750740
    }
    
    frame 2 {
	000000.001643 -0.000604 -0.707107 -0.000242 -0.707107
	3.122890 0.625194 0.923663 0.022398 -0.133633 -0.852234
	0.000386 -1.102681 0.010090 -0.001203 0.000819 -0.001678
	2.600285 -0.203020 0.001408 0.750740
    }";
        let r = md5anim_parser::parse_anim(string);
        print!("{:?}", r);

}